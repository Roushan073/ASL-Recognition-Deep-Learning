# ---------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# ---------------------------------------------------------
import json
import logging
import os
import pickle
import numpy as np
import pandas as pd
import joblib

import azureml.automl.core
from azureml.automl.core.shared import logging_utilities, log_server
from azureml.telemetry import INSTRUMENTATION_KEY

from inference_schema.schema_decorators import input_schema, output_schema
from inference_schema.parameter_types.numpy_parameter_type import NumpyParameterType
from inference_schema.parameter_types.pandas_parameter_type import PandasParameterType


input_sample = pd.DataFrame({"pixel1": pd.Series([0], dtype="int64"), "pixel2": pd.Series([0], dtype="int64"), "pixel3": pd.Series([0], dtype="int64"), "pixel4": pd.Series([0], dtype="int64"), "pixel5": pd.Series([0], dtype="int64"), "pixel6": pd.Series([0], dtype="int64"), "pixel7": pd.Series([0], dtype="int64"), "pixel8": pd.Series([0], dtype="int64"), "pixel9": pd.Series([0], dtype="int64"), "pixel10": pd.Series([0], dtype="int64"), "pixel11": pd.Series([0], dtype="int64"), "pixel12": pd.Series([0], dtype="int64"), "pixel13": pd.Series([0], dtype="int64"), "pixel14": pd.Series([0], dtype="int64"), "pixel15": pd.Series([0], dtype="int64"), "pixel16": pd.Series([0], dtype="int64"), "pixel17": pd.Series([0], dtype="int64"), "pixel18": pd.Series([0], dtype="int64"), "pixel19": pd.Series([0], dtype="int64"), "pixel20": pd.Series([0], dtype="int64"), "pixel21": pd.Series([0], dtype="int64"), "pixel22": pd.Series([0], dtype="int64"), "pixel23": pd.Series([0], dtype="int64"), "pixel24": pd.Series([0], dtype="int64"), "pixel25": pd.Series([0], dtype="int64"), "pixel26": pd.Series([0], dtype="int64"), "pixel27": pd.Series([0], dtype="int64"), "pixel28": pd.Series([0], dtype="int64"), "pixel29": pd.Series([0], dtype="int64"), "pixel30": pd.Series([0], dtype="int64"), "pixel31": pd.Series([0], dtype="int64"), "pixel32": pd.Series([0], dtype="int64"), "pixel33": pd.Series([0], dtype="int64"), "pixel34": pd.Series([0], dtype="int64"), "pixel35": pd.Series([0], dtype="int64"), "pixel36": pd.Series([0], dtype="int64"), "pixel37": pd.Series([0], dtype="int64"), "pixel38": pd.Series([0], dtype="int64"), "pixel39": pd.Series([0], dtype="int64"), "pixel40": pd.Series([0], dtype="int64"), "pixel41": pd.Series([0], dtype="int64"), "pixel42": pd.Series([0], dtype="int64"), "pixel43": pd.Series([0], dtype="int64"), "pixel44": pd.Series([0], dtype="int64"), "pixel45": pd.Series([0], dtype="int64"), "pixel46": pd.Series([0], dtype="int64"), "pixel47": pd.Series([0], dtype="int64"), "pixel48": pd.Series([0], dtype="int64"), "pixel49": pd.Series([0], dtype="int64"), "pixel50": pd.Series([0], dtype="int64"), "pixel51": pd.Series([0], dtype="int64"), "pixel52": pd.Series([0], dtype="int64"), "pixel53": pd.Series([0], dtype="int64"), "pixel54": pd.Series([0], dtype="int64"), "pixel55": pd.Series([0], dtype="int64"), "pixel56": pd.Series([0], dtype="int64"), "pixel57": pd.Series([0], dtype="int64"), "pixel58": pd.Series([0], dtype="int64"), "pixel59": pd.Series([0], dtype="int64"), "pixel60": pd.Series([0], dtype="int64"), "pixel61": pd.Series([0], dtype="int64"), "pixel62": pd.Series([0], dtype="int64"), "pixel63": pd.Series([0], dtype="int64"), "pixel64": pd.Series([0], dtype="int64"), "pixel65": pd.Series([0], dtype="int64"), "pixel66": pd.Series([0], dtype="int64"), "pixel67": pd.Series([0], dtype="int64"), "pixel68": pd.Series([0], dtype="int64"), "pixel69": pd.Series([0], dtype="int64"), "pixel70": pd.Series([0], dtype="int64"), "pixel71": pd.Series([0], dtype="int64"), "pixel72": pd.Series([0], dtype="int64"), "pixel73": pd.Series([0], dtype="int64"), "pixel74": pd.Series([0], dtype="int64"), "pixel75": pd.Series([0], dtype="int64"), "pixel76": pd.Series([0], dtype="int64"), "pixel77": pd.Series([0], dtype="int64"), "pixel78": pd.Series([0], dtype="int64"), "pixel79": pd.Series([0], dtype="int64"), "pixel80": pd.Series([0], dtype="int64"), "pixel81": pd.Series([0], dtype="int64"), "pixel82": pd.Series([0], dtype="int64"), "pixel83": pd.Series([0], dtype="int64"), "pixel84": pd.Series([0], dtype="int64"), "pixel85": pd.Series([0], dtype="int64"), "pixel86": pd.Series([0], dtype="int64"), "pixel87": pd.Series([0], dtype="int64"), "pixel88": pd.Series([0], dtype="int64"), "pixel89": pd.Series([0], dtype="int64"), "pixel90": pd.Series([0], dtype="int64"), "pixel91": pd.Series([0], dtype="int64"), "pixel92": pd.Series([0], dtype="int64"), "pixel93": pd.Series([0], dtype="int64"), "pixel94": pd.Series([0], dtype="int64"), "pixel95": pd.Series([0], dtype="int64"), "pixel96": pd.Series([0], dtype="int64"), "pixel97": pd.Series([0], dtype="int64"), "pixel98": pd.Series([0], dtype="int64"), "pixel99": pd.Series([0], dtype="int64"), "pixel100": pd.Series([0], dtype="int64"), "pixel101": pd.Series([0], dtype="int64"), "pixel102": pd.Series([0], dtype="int64"), "pixel103": pd.Series([0], dtype="int64"), "pixel104": pd.Series([0], dtype="int64"), "pixel105": pd.Series([0], dtype="int64"), "pixel106": pd.Series([0], dtype="int64"), "pixel107": pd.Series([0], dtype="int64"), "pixel108": pd.Series([0], dtype="int64"), "pixel109": pd.Series([0], dtype="int64"), "pixel110": pd.Series([0], dtype="int64"), "pixel111": pd.Series([0], dtype="int64"), "pixel112": pd.Series([0], dtype="int64"), "pixel113": pd.Series([0], dtype="int64"), "pixel114": pd.Series([0], dtype="int64"), "pixel115": pd.Series([0], dtype="int64"), "pixel116": pd.Series([0], dtype="int64"), "pixel117": pd.Series([0], dtype="int64"), "pixel118": pd.Series([0], dtype="int64"), "pixel119": pd.Series([0], dtype="int64"), "pixel120": pd.Series([0], dtype="int64"), "pixel121": pd.Series([0], dtype="int64"), "pixel122": pd.Series([0], dtype="int64"), "pixel123": pd.Series([0], dtype="int64"), "pixel124": pd.Series([0], dtype="int64"), "pixel125": pd.Series([0], dtype="int64"), "pixel126": pd.Series([0], dtype="int64"), "pixel127": pd.Series([0], dtype="int64"), "pixel128": pd.Series([0], dtype="int64"), "pixel129": pd.Series([0], dtype="int64"), "pixel130": pd.Series([0], dtype="int64"), "pixel131": pd.Series([0], dtype="int64"), "pixel132": pd.Series([0], dtype="int64"), "pixel133": pd.Series([0], dtype="int64"), "pixel134": pd.Series([0], dtype="int64"), "pixel135": pd.Series([0], dtype="int64"), "pixel136": pd.Series([0], dtype="int64"), "pixel137": pd.Series([0], dtype="int64"), "pixel138": pd.Series([0], dtype="int64"), "pixel139": pd.Series([0], dtype="int64"), "pixel140": pd.Series([0], dtype="int64"), "pixel141": pd.Series([0], dtype="int64"), "pixel142": pd.Series([0], dtype="int64"), "pixel143": pd.Series([0], dtype="int64"), "pixel144": pd.Series([0], dtype="int64"), "pixel145": pd.Series([0], dtype="int64"), "pixel146": pd.Series([0], dtype="int64"), "pixel147": pd.Series([0], dtype="int64"), "pixel148": pd.Series([0], dtype="int64"), "pixel149": pd.Series([0], dtype="int64"), "pixel150": pd.Series([0], dtype="int64"), "pixel151": pd.Series([0], dtype="int64"), "pixel152": pd.Series([0], dtype="int64"), "pixel153": pd.Series([0], dtype="int64"), "pixel154": pd.Series([0], dtype="int64"), "pixel155": pd.Series([0], dtype="int64"), "pixel156": pd.Series([0], dtype="int64"), "pixel157": pd.Series([0], dtype="int64"), "pixel158": pd.Series([0], dtype="int64"), "pixel159": pd.Series([0], dtype="int64"), "pixel160": pd.Series([0], dtype="int64"), "pixel161": pd.Series([0], dtype="int64"), "pixel162": pd.Series([0], dtype="int64"), "pixel163": pd.Series([0], dtype="int64"), "pixel164": pd.Series([0], dtype="int64"), "pixel165": pd.Series([0], dtype="int64"), "pixel166": pd.Series([0], dtype="int64"), "pixel167": pd.Series([0], dtype="int64"), "pixel168": pd.Series([0], dtype="int64"), "pixel169": pd.Series([0], dtype="int64"), "pixel170": pd.Series([0], dtype="int64"), "pixel171": pd.Series([0], dtype="int64"), "pixel172": pd.Series([0], dtype="int64"), "pixel173": pd.Series([0], dtype="int64"), "pixel174": pd.Series([0], dtype="int64"), "pixel175": pd.Series([0], dtype="int64"), "pixel176": pd.Series([0], dtype="int64"), "pixel177": pd.Series([0], dtype="int64"), "pixel178": pd.Series([0], dtype="int64"), "pixel179": pd.Series([0], dtype="int64"), "pixel180": pd.Series([0], dtype="int64"), "pixel181": pd.Series([0], dtype="int64"), "pixel182": pd.Series([0], dtype="int64"), "pixel183": pd.Series([0], dtype="int64"), "pixel184": pd.Series([0], dtype="int64"), "pixel185": pd.Series([0], dtype="int64"), "pixel186": pd.Series([0], dtype="int64"), "pixel187": pd.Series([0], dtype="int64"), "pixel188": pd.Series([0], dtype="int64"), "pixel189": pd.Series([0], dtype="int64"), "pixel190": pd.Series([0], dtype="int64"), "pixel191": pd.Series([0], dtype="int64"), "pixel192": pd.Series([0], dtype="int64"), "pixel193": pd.Series([0], dtype="int64"), "pixel194": pd.Series([0], dtype="int64"), "pixel195": pd.Series([0], dtype="int64"), "pixel196": pd.Series([0], dtype="int64"), "pixel197": pd.Series([0], dtype="int64"), "pixel198": pd.Series([0], dtype="int64"), "pixel199": pd.Series([0], dtype="int64"), "pixel200": pd.Series([0], dtype="int64"), "pixel201": pd.Series([0], dtype="int64"), "pixel202": pd.Series([0], dtype="int64"), "pixel203": pd.Series([0], dtype="int64"), "pixel204": pd.Series([0], dtype="int64"), "pixel205": pd.Series([0], dtype="int64"), "pixel206": pd.Series([0], dtype="int64"), "pixel207": pd.Series([0], dtype="int64"), "pixel208": pd.Series([0], dtype="int64"), "pixel209": pd.Series([0], dtype="int64"), "pixel210": pd.Series([0], dtype="int64"), "pixel211": pd.Series([0], dtype="int64"), "pixel212": pd.Series([0], dtype="int64"), "pixel213": pd.Series([0], dtype="int64"), "pixel214": pd.Series([0], dtype="int64"), "pixel215": pd.Series([0], dtype="int64"), "pixel216": pd.Series([0], dtype="int64"), "pixel217": pd.Series([0], dtype="int64"), "pixel218": pd.Series([0], dtype="int64"), "pixel219": pd.Series([0], dtype="int64"), "pixel220": pd.Series([0], dtype="int64"), "pixel221": pd.Series([0], dtype="int64"), "pixel222": pd.Series([0], dtype="int64"), "pixel223": pd.Series([0], dtype="int64"), "pixel224": pd.Series([0], dtype="int64"), "pixel225": pd.Series([0], dtype="int64"), "pixel226": pd.Series([0], dtype="int64"), "pixel227": pd.Series([0], dtype="int64"), "pixel228": pd.Series([0], dtype="int64"), "pixel229": pd.Series([0], dtype="int64"), "pixel230": pd.Series([0], dtype="int64"), "pixel231": pd.Series([0], dtype="int64"), "pixel232": pd.Series([0], dtype="int64"), "pixel233": pd.Series([0], dtype="int64"), "pixel234": pd.Series([0], dtype="int64"), "pixel235": pd.Series([0], dtype="int64"), "pixel236": pd.Series([0], dtype="int64"), "pixel237": pd.Series([0], dtype="int64"), "pixel238": pd.Series([0], dtype="int64"), "pixel239": pd.Series([0], dtype="int64"), "pixel240": pd.Series([0], dtype="int64"), "pixel241": pd.Series([0], dtype="int64"), "pixel242": pd.Series([0], dtype="int64"), "pixel243": pd.Series([0], dtype="int64"), "pixel244": pd.Series([0], dtype="int64"), "pixel245": pd.Series([0], dtype="int64"), "pixel246": pd.Series([0], dtype="int64"), "pixel247": pd.Series([0], dtype="int64"), "pixel248": pd.Series([0], dtype="int64"), "pixel249": pd.Series([0], dtype="int64"), "pixel250": pd.Series([0], dtype="int64"), "pixel251": pd.Series([0], dtype="int64"), "pixel252": pd.Series([0], dtype="int64"), "pixel253": pd.Series([0], dtype="int64"), "pixel254": pd.Series([0], dtype="int64"), "pixel255": pd.Series([0], dtype="int64"), "pixel256": pd.Series([0], dtype="int64"), "pixel257": pd.Series([0], dtype="int64"), "pixel258": pd.Series([0], dtype="int64"), "pixel259": pd.Series([0], dtype="int64"), "pixel260": pd.Series([0], dtype="int64"), "pixel261": pd.Series([0], dtype="int64"), "pixel262": pd.Series([0], dtype="int64"), "pixel263": pd.Series([0], dtype="int64"), "pixel264": pd.Series([0], dtype="int64"), "pixel265": pd.Series([0], dtype="int64"), "pixel266": pd.Series([0], dtype="int64"), "pixel267": pd.Series([0], dtype="int64"), "pixel268": pd.Series([0], dtype="int64"), "pixel269": pd.Series([0], dtype="int64"), "pixel270": pd.Series([0], dtype="int64"), "pixel271": pd.Series([0], dtype="int64"), "pixel272": pd.Series([0], dtype="int64"), "pixel273": pd.Series([0], dtype="int64"), "pixel274": pd.Series([0], dtype="int64"), "pixel275": pd.Series([0], dtype="int64"), "pixel276": pd.Series([0], dtype="int64"), "pixel277": pd.Series([0], dtype="int64"), "pixel278": pd.Series([0], dtype="int64"), "pixel279": pd.Series([0], dtype="int64"), "pixel280": pd.Series([0], dtype="int64"), "pixel281": pd.Series([0], dtype="int64"), "pixel282": pd.Series([0], dtype="int64"), "pixel283": pd.Series([0], dtype="int64"), "pixel284": pd.Series([0], dtype="int64"), "pixel285": pd.Series([0], dtype="int64"), "pixel286": pd.Series([0], dtype="int64"), "pixel287": pd.Series([0], dtype="int64"), "pixel288": pd.Series([0], dtype="int64"), "pixel289": pd.Series([0], dtype="int64"), "pixel290": pd.Series([0], dtype="int64"), "pixel291": pd.Series([0], dtype="int64"), "pixel292": pd.Series([0], dtype="int64"), "pixel293": pd.Series([0], dtype="int64"), "pixel294": pd.Series([0], dtype="int64"), "pixel295": pd.Series([0], dtype="int64"), "pixel296": pd.Series([0], dtype="int64"), "pixel297": pd.Series([0], dtype="int64"), "pixel298": pd.Series([0], dtype="int64"), "pixel299": pd.Series([0], dtype="int64"), "pixel300": pd.Series([0], dtype="int64"), "pixel301": pd.Series([0], dtype="int64"), "pixel302": pd.Series([0], dtype="int64"), "pixel303": pd.Series([0], dtype="int64"), "pixel304": pd.Series([0], dtype="int64"), "pixel305": pd.Series([0], dtype="int64"), "pixel306": pd.Series([0], dtype="int64"), "pixel307": pd.Series([0], dtype="int64"), "pixel308": pd.Series([0], dtype="int64"), "pixel309": pd.Series([0], dtype="int64"), "pixel310": pd.Series([0], dtype="int64"), "pixel311": pd.Series([0], dtype="int64"), "pixel312": pd.Series([0], dtype="int64"), "pixel313": pd.Series([0], dtype="int64"), "pixel314": pd.Series([0], dtype="int64"), "pixel315": pd.Series([0], dtype="int64"), "pixel316": pd.Series([0], dtype="int64"), "pixel317": pd.Series([0], dtype="int64"), "pixel318": pd.Series([0], dtype="int64"), "pixel319": pd.Series([0], dtype="int64"), "pixel320": pd.Series([0], dtype="int64"), "pixel321": pd.Series([0], dtype="int64"), "pixel322": pd.Series([0], dtype="int64"), "pixel323": pd.Series([0], dtype="int64"), "pixel324": pd.Series([0], dtype="int64"), "pixel325": pd.Series([0], dtype="int64"), "pixel326": pd.Series([0], dtype="int64"), "pixel327": pd.Series([0], dtype="int64"), "pixel328": pd.Series([0], dtype="int64"), "pixel329": pd.Series([0], dtype="int64"), "pixel330": pd.Series([0], dtype="int64"), "pixel331": pd.Series([0], dtype="int64"), "pixel332": pd.Series([0], dtype="int64"), "pixel333": pd.Series([0], dtype="int64"), "pixel334": pd.Series([0], dtype="int64"), "pixel335": pd.Series([0], dtype="int64"), "pixel336": pd.Series([0], dtype="int64"), "pixel337": pd.Series([0], dtype="int64"), "pixel338": pd.Series([0], dtype="int64"), "pixel339": pd.Series([0], dtype="int64"), "pixel340": pd.Series([0], dtype="int64"), "pixel341": pd.Series([0], dtype="int64"), "pixel342": pd.Series([0], dtype="int64"), "pixel343": pd.Series([0], dtype="int64"), "pixel344": pd.Series([0], dtype="int64"), "pixel345": pd.Series([0], dtype="int64"), "pixel346": pd.Series([0], dtype="int64"), "pixel347": pd.Series([0], dtype="int64"), "pixel348": pd.Series([0], dtype="int64"), "pixel349": pd.Series([0], dtype="int64"), "pixel350": pd.Series([0], dtype="int64"), "pixel351": pd.Series([0], dtype="int64"), "pixel352": pd.Series([0], dtype="int64"), "pixel353": pd.Series([0], dtype="int64"), "pixel354": pd.Series([0], dtype="int64"), "pixel355": pd.Series([0], dtype="int64"), "pixel356": pd.Series([0], dtype="int64"), "pixel357": pd.Series([0], dtype="int64"), "pixel358": pd.Series([0], dtype="int64"), "pixel359": pd.Series([0], dtype="int64"), "pixel360": pd.Series([0], dtype="int64"), "pixel361": pd.Series([0], dtype="int64"), "pixel362": pd.Series([0], dtype="int64"), "pixel363": pd.Series([0], dtype="int64"), "pixel364": pd.Series([0], dtype="int64"), "pixel365": pd.Series([0], dtype="int64"), "pixel366": pd.Series([0], dtype="int64"), "pixel367": pd.Series([0], dtype="int64"), "pixel368": pd.Series([0], dtype="int64"), "pixel369": pd.Series([0], dtype="int64"), "pixel370": pd.Series([0], dtype="int64"), "pixel371": pd.Series([0], dtype="int64"), "pixel372": pd.Series([0], dtype="int64"), "pixel373": pd.Series([0], dtype="int64"), "pixel374": pd.Series([0], dtype="int64"), "pixel375": pd.Series([0], dtype="int64"), "pixel376": pd.Series([0], dtype="int64"), "pixel377": pd.Series([0], dtype="int64"), "pixel378": pd.Series([0], dtype="int64"), "pixel379": pd.Series([0], dtype="int64"), "pixel380": pd.Series([0], dtype="int64"), "pixel381": pd.Series([0], dtype="int64"), "pixel382": pd.Series([0], dtype="int64"), "pixel383": pd.Series([0], dtype="int64"), "pixel384": pd.Series([0], dtype="int64"), "pixel385": pd.Series([0], dtype="int64"), "pixel386": pd.Series([0], dtype="int64"), "pixel387": pd.Series([0], dtype="int64"), "pixel388": pd.Series([0], dtype="int64"), "pixel389": pd.Series([0], dtype="int64"), "pixel390": pd.Series([0], dtype="int64"), "pixel391": pd.Series([0], dtype="int64"), "pixel392": pd.Series([0], dtype="int64"), "pixel393": pd.Series([0], dtype="int64"), "pixel394": pd.Series([0], dtype="int64"), "pixel395": pd.Series([0], dtype="int64"), "pixel396": pd.Series([0], dtype="int64"), "pixel397": pd.Series([0], dtype="int64"), "pixel398": pd.Series([0], dtype="int64"), "pixel399": pd.Series([0], dtype="int64"), "pixel400": pd.Series([0], dtype="int64"), "pixel401": pd.Series([0], dtype="int64"), "pixel402": pd.Series([0], dtype="int64"), "pixel403": pd.Series([0], dtype="int64"), "pixel404": pd.Series([0], dtype="int64"), "pixel405": pd.Series([0], dtype="int64"), "pixel406": pd.Series([0], dtype="int64"), "pixel407": pd.Series([0], dtype="int64"), "pixel408": pd.Series([0], dtype="int64"), "pixel409": pd.Series([0], dtype="int64"), "pixel410": pd.Series([0], dtype="int64"), "pixel411": pd.Series([0], dtype="int64"), "pixel412": pd.Series([0], dtype="int64"), "pixel413": pd.Series([0], dtype="int64"), "pixel414": pd.Series([0], dtype="int64"), "pixel415": pd.Series([0], dtype="int64"), "pixel416": pd.Series([0], dtype="int64"), "pixel417": pd.Series([0], dtype="int64"), "pixel418": pd.Series([0], dtype="int64"), "pixel419": pd.Series([0], dtype="int64"), "pixel420": pd.Series([0], dtype="int64"), "pixel421": pd.Series([0], dtype="int64"), "pixel422": pd.Series([0], dtype="int64"), "pixel423": pd.Series([0], dtype="int64"), "pixel424": pd.Series([0], dtype="int64"), "pixel425": pd.Series([0], dtype="int64"), "pixel426": pd.Series([0], dtype="int64"), "pixel427": pd.Series([0], dtype="int64"), "pixel428": pd.Series([0], dtype="int64"), "pixel429": pd.Series([0], dtype="int64"), "pixel430": pd.Series([0], dtype="int64"), "pixel431": pd.Series([0], dtype="int64"), "pixel432": pd.Series([0], dtype="int64"), "pixel433": pd.Series([0], dtype="int64"), "pixel434": pd.Series([0], dtype="int64"), "pixel435": pd.Series([0], dtype="int64"), "pixel436": pd.Series([0], dtype="int64"), "pixel437": pd.Series([0], dtype="int64"), "pixel438": pd.Series([0], dtype="int64"), "pixel439": pd.Series([0], dtype="int64"), "pixel440": pd.Series([0], dtype="int64"), "pixel441": pd.Series([0], dtype="int64"), "pixel442": pd.Series([0], dtype="int64"), "pixel443": pd.Series([0], dtype="int64"), "pixel444": pd.Series([0], dtype="int64"), "pixel445": pd.Series([0], dtype="int64"), "pixel446": pd.Series([0], dtype="int64"), "pixel447": pd.Series([0], dtype="int64"), "pixel448": pd.Series([0], dtype="int64"), "pixel449": pd.Series([0], dtype="int64"), "pixel450": pd.Series([0], dtype="int64"), "pixel451": pd.Series([0], dtype="int64"), "pixel452": pd.Series([0], dtype="int64"), "pixel453": pd.Series([0], dtype="int64"), "pixel454": pd.Series([0], dtype="int64"), "pixel455": pd.Series([0], dtype="int64"), "pixel456": pd.Series([0], dtype="int64"), "pixel457": pd.Series([0], dtype="int64"), "pixel458": pd.Series([0], dtype="int64"), "pixel459": pd.Series([0], dtype="int64"), "pixel460": pd.Series([0], dtype="int64"), "pixel461": pd.Series([0], dtype="int64"), "pixel462": pd.Series([0], dtype="int64"), "pixel463": pd.Series([0], dtype="int64"), "pixel464": pd.Series([0], dtype="int64"), "pixel465": pd.Series([0], dtype="int64"), "pixel466": pd.Series([0], dtype="int64"), "pixel467": pd.Series([0], dtype="int64"), "pixel468": pd.Series([0], dtype="int64"), "pixel469": pd.Series([0], dtype="int64"), "pixel470": pd.Series([0], dtype="int64"), "pixel471": pd.Series([0], dtype="int64"), "pixel472": pd.Series([0], dtype="int64"), "pixel473": pd.Series([0], dtype="int64"), "pixel474": pd.Series([0], dtype="int64"), "pixel475": pd.Series([0], dtype="int64"), "pixel476": pd.Series([0], dtype="int64"), "pixel477": pd.Series([0], dtype="int64"), "pixel478": pd.Series([0], dtype="int64"), "pixel479": pd.Series([0], dtype="int64"), "pixel480": pd.Series([0], dtype="int64"), "pixel481": pd.Series([0], dtype="int64"), "pixel482": pd.Series([0], dtype="int64"), "pixel483": pd.Series([0], dtype="int64"), "pixel484": pd.Series([0], dtype="int64"), "pixel485": pd.Series([0], dtype="int64"), "pixel486": pd.Series([0], dtype="int64"), "pixel487": pd.Series([0], dtype="int64"), "pixel488": pd.Series([0], dtype="int64"), "pixel489": pd.Series([0], dtype="int64"), "pixel490": pd.Series([0], dtype="int64"), "pixel491": pd.Series([0], dtype="int64"), "pixel492": pd.Series([0], dtype="int64"), "pixel493": pd.Series([0], dtype="int64"), "pixel494": pd.Series([0], dtype="int64"), "pixel495": pd.Series([0], dtype="int64"), "pixel496": pd.Series([0], dtype="int64"), "pixel497": pd.Series([0], dtype="int64"), "pixel498": pd.Series([0], dtype="int64"), "pixel499": pd.Series([0], dtype="int64"), "pixel500": pd.Series([0], dtype="int64"), "pixel501": pd.Series([0], dtype="int64"), "pixel502": pd.Series([0], dtype="int64"), "pixel503": pd.Series([0], dtype="int64"), "pixel504": pd.Series([0], dtype="int64"), "pixel505": pd.Series([0], dtype="int64"), "pixel506": pd.Series([0], dtype="int64"), "pixel507": pd.Series([0], dtype="int64"), "pixel508": pd.Series([0], dtype="int64"), "pixel509": pd.Series([0], dtype="int64"), "pixel510": pd.Series([0], dtype="int64"), "pixel511": pd.Series([0], dtype="int64"), "pixel512": pd.Series([0], dtype="int64"), "pixel513": pd.Series([0], dtype="int64"), "pixel514": pd.Series([0], dtype="int64"), "pixel515": pd.Series([0], dtype="int64"), "pixel516": pd.Series([0], dtype="int64"), "pixel517": pd.Series([0], dtype="int64"), "pixel518": pd.Series([0], dtype="int64"), "pixel519": pd.Series([0], dtype="int64"), "pixel520": pd.Series([0], dtype="int64"), "pixel521": pd.Series([0], dtype="int64"), "pixel522": pd.Series([0], dtype="int64"), "pixel523": pd.Series([0], dtype="int64"), "pixel524": pd.Series([0], dtype="int64"), "pixel525": pd.Series([0], dtype="int64"), "pixel526": pd.Series([0], dtype="int64"), "pixel527": pd.Series([0], dtype="int64"), "pixel528": pd.Series([0], dtype="int64"), "pixel529": pd.Series([0], dtype="int64"), "pixel530": pd.Series([0], dtype="int64"), "pixel531": pd.Series([0], dtype="int64"), "pixel532": pd.Series([0], dtype="int64"), "pixel533": pd.Series([0], dtype="int64"), "pixel534": pd.Series([0], dtype="int64"), "pixel535": pd.Series([0], dtype="int64"), "pixel536": pd.Series([0], dtype="int64"), "pixel537": pd.Series([0], dtype="int64"), "pixel538": pd.Series([0], dtype="int64"), "pixel539": pd.Series([0], dtype="int64"), "pixel540": pd.Series([0], dtype="int64"), "pixel541": pd.Series([0], dtype="int64"), "pixel542": pd.Series([0], dtype="int64"), "pixel543": pd.Series([0], dtype="int64"), "pixel544": pd.Series([0], dtype="int64"), "pixel545": pd.Series([0], dtype="int64"), "pixel546": pd.Series([0], dtype="int64"), "pixel547": pd.Series([0], dtype="int64"), "pixel548": pd.Series([0], dtype="int64"), "pixel549": pd.Series([0], dtype="int64"), "pixel550": pd.Series([0], dtype="int64"), "pixel551": pd.Series([0], dtype="int64"), "pixel552": pd.Series([0], dtype="int64"), "pixel553": pd.Series([0], dtype="int64"), "pixel554": pd.Series([0], dtype="int64"), "pixel555": pd.Series([0], dtype="int64"), "pixel556": pd.Series([0], dtype="int64"), "pixel557": pd.Series([0], dtype="int64"), "pixel558": pd.Series([0], dtype="int64"), "pixel559": pd.Series([0], dtype="int64"), "pixel560": pd.Series([0], dtype="int64"), "pixel561": pd.Series([0], dtype="int64"), "pixel562": pd.Series([0], dtype="int64"), "pixel563": pd.Series([0], dtype="int64"), "pixel564": pd.Series([0], dtype="int64"), "pixel565": pd.Series([0], dtype="int64"), "pixel566": pd.Series([0], dtype="int64"), "pixel567": pd.Series([0], dtype="int64"), "pixel568": pd.Series([0], dtype="int64"), "pixel569": pd.Series([0], dtype="int64"), "pixel570": pd.Series([0], dtype="int64"), "pixel571": pd.Series([0], dtype="int64"), "pixel572": pd.Series([0], dtype="int64"), "pixel573": pd.Series([0], dtype="int64"), "pixel574": pd.Series([0], dtype="int64"), "pixel575": pd.Series([0], dtype="int64"), "pixel576": pd.Series([0], dtype="int64"), "pixel577": pd.Series([0], dtype="int64"), "pixel578": pd.Series([0], dtype="int64"), "pixel579": pd.Series([0], dtype="int64"), "pixel580": pd.Series([0], dtype="int64"), "pixel581": pd.Series([0], dtype="int64"), "pixel582": pd.Series([0], dtype="int64"), "pixel583": pd.Series([0], dtype="int64"), "pixel584": pd.Series([0], dtype="int64"), "pixel585": pd.Series([0], dtype="int64"), "pixel586": pd.Series([0], dtype="int64"), "pixel587": pd.Series([0], dtype="int64"), "pixel588": pd.Series([0], dtype="int64"), "pixel589": pd.Series([0], dtype="int64"), "pixel590": pd.Series([0], dtype="int64"), "pixel591": pd.Series([0], dtype="int64"), "pixel592": pd.Series([0], dtype="int64"), "pixel593": pd.Series([0], dtype="int64"), "pixel594": pd.Series([0], dtype="int64"), "pixel595": pd.Series([0], dtype="int64"), "pixel596": pd.Series([0], dtype="int64"), "pixel597": pd.Series([0], dtype="int64"), "pixel598": pd.Series([0], dtype="int64"), "pixel599": pd.Series([0], dtype="int64"), "pixel600": pd.Series([0], dtype="int64"), "pixel601": pd.Series([0], dtype="int64"), "pixel602": pd.Series([0], dtype="int64"), "pixel603": pd.Series([0], dtype="int64"), "pixel604": pd.Series([0], dtype="int64"), "pixel605": pd.Series([0], dtype="int64"), "pixel606": pd.Series([0], dtype="int64"), "pixel607": pd.Series([0], dtype="int64"), "pixel608": pd.Series([0], dtype="int64"), "pixel609": pd.Series([0], dtype="int64"), "pixel610": pd.Series([0], dtype="int64"), "pixel611": pd.Series([0], dtype="int64"), "pixel612": pd.Series([0], dtype="int64"), "pixel613": pd.Series([0], dtype="int64"), "pixel614": pd.Series([0], dtype="int64"), "pixel615": pd.Series([0], dtype="int64"), "pixel616": pd.Series([0], dtype="int64"), "pixel617": pd.Series([0], dtype="int64"), "pixel618": pd.Series([0], dtype="int64"), "pixel619": pd.Series([0], dtype="int64"), "pixel620": pd.Series([0], dtype="int64"), "pixel621": pd.Series([0], dtype="int64"), "pixel622": pd.Series([0], dtype="int64"), "pixel623": pd.Series([0], dtype="int64"), "pixel624": pd.Series([0], dtype="int64"), "pixel625": pd.Series([0], dtype="int64"), "pixel626": pd.Series([0], dtype="int64"), "pixel627": pd.Series([0], dtype="int64"), "pixel628": pd.Series([0], dtype="int64"), "pixel629": pd.Series([0], dtype="int64"), "pixel630": pd.Series([0], dtype="int64"), "pixel631": pd.Series([0], dtype="int64"), "pixel632": pd.Series([0], dtype="int64"), "pixel633": pd.Series([0], dtype="int64"), "pixel634": pd.Series([0], dtype="int64"), "pixel635": pd.Series([0], dtype="int64"), "pixel636": pd.Series([0], dtype="int64"), "pixel637": pd.Series([0], dtype="int64"), "pixel638": pd.Series([0], dtype="int64"), "pixel639": pd.Series([0], dtype="int64"), "pixel640": pd.Series([0], dtype="int64"), "pixel641": pd.Series([0], dtype="int64"), "pixel642": pd.Series([0], dtype="int64"), "pixel643": pd.Series([0], dtype="int64"), "pixel644": pd.Series([0], dtype="int64"), "pixel645": pd.Series([0], dtype="int64"), "pixel646": pd.Series([0], dtype="int64"), "pixel647": pd.Series([0], dtype="int64"), "pixel648": pd.Series([0], dtype="int64"), "pixel649": pd.Series([0], dtype="int64"), "pixel650": pd.Series([0], dtype="int64"), "pixel651": pd.Series([0], dtype="int64"), "pixel652": pd.Series([0], dtype="int64"), "pixel653": pd.Series([0], dtype="int64"), "pixel654": pd.Series([0], dtype="int64"), "pixel655": pd.Series([0], dtype="int64"), "pixel656": pd.Series([0], dtype="int64"), "pixel657": pd.Series([0], dtype="int64"), "pixel658": pd.Series([0], dtype="int64"), "pixel659": pd.Series([0], dtype="int64"), "pixel660": pd.Series([0], dtype="int64"), "pixel661": pd.Series([0], dtype="int64"), "pixel662": pd.Series([0], dtype="int64"), "pixel663": pd.Series([0], dtype="int64"), "pixel664": pd.Series([0], dtype="int64"), "pixel665": pd.Series([0], dtype="int64"), "pixel666": pd.Series([0], dtype="int64"), "pixel667": pd.Series([0], dtype="int64"), "pixel668": pd.Series([0], dtype="int64"), "pixel669": pd.Series([0], dtype="int64"), "pixel670": pd.Series([0], dtype="int64"), "pixel671": pd.Series([0], dtype="int64"), "pixel672": pd.Series([0], dtype="int64"), "pixel673": pd.Series([0], dtype="int64"), "pixel674": pd.Series([0], dtype="int64"), "pixel675": pd.Series([0], dtype="int64"), "pixel676": pd.Series([0], dtype="int64"), "pixel677": pd.Series([0], dtype="int64"), "pixel678": pd.Series([0], dtype="int64"), "pixel679": pd.Series([0], dtype="int64"), "pixel680": pd.Series([0], dtype="int64"), "pixel681": pd.Series([0], dtype="int64"), "pixel682": pd.Series([0], dtype="int64"), "pixel683": pd.Series([0], dtype="int64"), "pixel684": pd.Series([0], dtype="int64"), "pixel685": pd.Series([0], dtype="int64"), "pixel686": pd.Series([0], dtype="int64"), "pixel687": pd.Series([0], dtype="int64"), "pixel688": pd.Series([0], dtype="int64"), "pixel689": pd.Series([0], dtype="int64"), "pixel690": pd.Series([0], dtype="int64"), "pixel691": pd.Series([0], dtype="int64"), "pixel692": pd.Series([0], dtype="int64"), "pixel693": pd.Series([0], dtype="int64"), "pixel694": pd.Series([0], dtype="int64"), "pixel695": pd.Series([0], dtype="int64"), "pixel696": pd.Series([0], dtype="int64"), "pixel697": pd.Series([0], dtype="int64"), "pixel698": pd.Series([0], dtype="int64"), "pixel699": pd.Series([0], dtype="int64"), "pixel700": pd.Series([0], dtype="int64"), "pixel701": pd.Series([0], dtype="int64"), "pixel702": pd.Series([0], dtype="int64"), "pixel703": pd.Series([0], dtype="int64"), "pixel704": pd.Series([0], dtype="int64"), "pixel705": pd.Series([0], dtype="int64"), "pixel706": pd.Series([0], dtype="int64"), "pixel707": pd.Series([0], dtype="int64"), "pixel708": pd.Series([0], dtype="int64"), "pixel709": pd.Series([0], dtype="int64"), "pixel710": pd.Series([0], dtype="int64"), "pixel711": pd.Series([0], dtype="int64"), "pixel712": pd.Series([0], dtype="int64"), "pixel713": pd.Series([0], dtype="int64"), "pixel714": pd.Series([0], dtype="int64"), "pixel715": pd.Series([0], dtype="int64"), "pixel716": pd.Series([0], dtype="int64"), "pixel717": pd.Series([0], dtype="int64"), "pixel718": pd.Series([0], dtype="int64"), "pixel719": pd.Series([0], dtype="int64"), "pixel720": pd.Series([0], dtype="int64"), "pixel721": pd.Series([0], dtype="int64"), "pixel722": pd.Series([0], dtype="int64"), "pixel723": pd.Series([0], dtype="int64"), "pixel724": pd.Series([0], dtype="int64"), "pixel725": pd.Series([0], dtype="int64"), "pixel726": pd.Series([0], dtype="int64"), "pixel727": pd.Series([0], dtype="int64"), "pixel728": pd.Series([0], dtype="int64"), "pixel729": pd.Series([0], dtype="int64"), "pixel730": pd.Series([0], dtype="int64"), "pixel731": pd.Series([0], dtype="int64"), "pixel732": pd.Series([0], dtype="int64"), "pixel733": pd.Series([0], dtype="int64"), "pixel734": pd.Series([0], dtype="int64"), "pixel735": pd.Series([0], dtype="int64"), "pixel736": pd.Series([0], dtype="int64"), "pixel737": pd.Series([0], dtype="int64"), "pixel738": pd.Series([0], dtype="int64"), "pixel739": pd.Series([0], dtype="int64"), "pixel740": pd.Series([0], dtype="int64"), "pixel741": pd.Series([0], dtype="int64"), "pixel742": pd.Series([0], dtype="int64"), "pixel743": pd.Series([0], dtype="int64"), "pixel744": pd.Series([0], dtype="int64"), "pixel745": pd.Series([0], dtype="int64"), "pixel746": pd.Series([0], dtype="int64"), "pixel747": pd.Series([0], dtype="int64"), "pixel748": pd.Series([0], dtype="int64"), "pixel749": pd.Series([0], dtype="int64"), "pixel750": pd.Series([0], dtype="int64"), "pixel751": pd.Series([0], dtype="int64"), "pixel752": pd.Series([0], dtype="int64"), "pixel753": pd.Series([0], dtype="int64"), "pixel754": pd.Series([0], dtype="int64"), "pixel755": pd.Series([0], dtype="int64"), "pixel756": pd.Series([0], dtype="int64"), "pixel757": pd.Series([0], dtype="int64"), "pixel758": pd.Series([0], dtype="int64"), "pixel759": pd.Series([0], dtype="int64"), "pixel760": pd.Series([0], dtype="int64"), "pixel761": pd.Series([0], dtype="int64"), "pixel762": pd.Series([0], dtype="int64"), "pixel763": pd.Series([0], dtype="int64"), "pixel764": pd.Series([0], dtype="int64"), "pixel765": pd.Series([0], dtype="int64"), "pixel766": pd.Series([0], dtype="int64"), "pixel767": pd.Series([0], dtype="int64"), "pixel768": pd.Series([0], dtype="int64"), "pixel769": pd.Series([0], dtype="int64"), "pixel770": pd.Series([0], dtype="int64"), "pixel771": pd.Series([0], dtype="int64"), "pixel772": pd.Series([0], dtype="int64"), "pixel773": pd.Series([0], dtype="int64"), "pixel774": pd.Series([0], dtype="int64"), "pixel775": pd.Series([0], dtype="int64"), "pixel776": pd.Series([0], dtype="int64"), "pixel777": pd.Series([0], dtype="int64"), "pixel778": pd.Series([0], dtype="int64"), "pixel779": pd.Series([0], dtype="int64"), "pixel780": pd.Series([0], dtype="int64"), "pixel781": pd.Series([0], dtype="int64"), "pixel782": pd.Series([0], dtype="int64"), "pixel783": pd.Series([0], dtype="int64"), "pixel784": pd.Series([0], dtype="int64")})
output_sample = np.array([0])
try:
    log_server.enable_telemetry(INSTRUMENTATION_KEY)
    log_server.set_verbosity('INFO')
    logger = logging.getLogger('azureml.automl.core.scoring_script')
except:
    pass


def init():
    global model
    # This name is model.id of model that we want to deploy deserialize the model file back
    # into a sklearn model
    model_path = os.path.join(os.getenv('AZUREML_MODEL_DIR'), 'model.pkl')
    path = os.path.normpath(model_path)
    path_split = path.split(os.sep)
    log_server.update_custom_dimensions({'model_name': path_split[1], 'model_version': path_split[2]})
    try:
        logger.info("Loading model from path.")
        model = joblib.load(model_path)
        logger.info("Loading successful.")
    except Exception as e:
        logging_utilities.log_traceback(e, logger)
        raise


@input_schema('data', PandasParameterType(input_sample))
@output_schema(NumpyParameterType(output_sample))
def run(data):
    try:
        result = model.predict(data)
        return json.dumps({"result": result.tolist()})
    except Exception as e:
        result = str(e)
        return json.dumps({"error": result})
